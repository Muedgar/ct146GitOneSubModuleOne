{"ast":null,"code":"var _jsxFileName = \"/Users/mutanganaedgar/Desktop/CT14/ctui/src/components/heroComponent/HeroComponent.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./HeroComponent.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction HeroComponent() {\n  async function handleLogin(e) {\n    e.preventDefault();\n    const email = document.getElementById(\"emailLogin\").value;\n    const password = document.getElementById(\"passwordLogin\").value;\n    const data = {\n      email,\n      password\n    };\n    await fetch(\"login\", {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      redirect: 'follow',\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(async d => {\n      let role = d.user.roles;\n      console.log(d.jwt);\n\n      if (role === \"insurance\") {\n        // await fetch(\"\")\n        //     .then(res=>res.json())\n        //     .then(d=>{\n        //         console.log(d);\n        //     }).catch(e=>console.log(e));\n        // store data to session\n        sessionStorage.setItem('currentlyLoggedin', JSON.stringify(d.user));\n        window.location = \"agent/pending\";\n        return;\n      }\n\n      if (role === \"user\") {\n        // await fetch()\n        // .then(res=>res.json())\n        // .then(async d=>{\n        //     if(d.userDashboard) {\n        //         await fetch(\"setLoggedIn/user\").then(res=>{\n        //             res.json();\n        //         }).then(d=> {\n        //             window.location = \"/requestChangeOfInsurance\";\n        //         }).catch(e=> console.log(e.message))\n        //     }\n        // }).catch(e=>console.log(e));\n        sessionStorage.setItem('currentlyLoggedin', JSON.stringify(d.user));\n        window.location = \"user/sending\";\n      } // fetch specific user\n\n    }).catch(e => console.log(e.message));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"heroContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"heroLeftContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"heroLeftTitle\",\n        children: \"The Easiest Way To Work With Your Insurance.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Our Health, \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Our Future\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Read More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      className: \"heroRightContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Login Your Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"emailLogin\",\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"passwordLogin\",\n        className: \"form-control\",\n        type: \"password\",\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Register Here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 66\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_c = HeroComponent;\nexport default HeroComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"HeroComponent\");","map":{"version":3,"names":["React","Link","HeroComponent","handleLogin","e","preventDefault","email","document","getElementById","value","password","data","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","then","response","json","d","role","user","roles","console","log","jwt","sessionStorage","setItem","window","location","catch","message"],"sources":["/Users/mutanganaedgar/Desktop/CT14/ctui/src/components/heroComponent/HeroComponent.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./HeroComponent.css\";\n\nfunction HeroComponent() {\n\n    async function handleLogin(e) {\n        e.preventDefault();\n\n        const email = document.getElementById(\"emailLogin\").value;\n        const password = document.getElementById(\"passwordLogin\").value;\n        const data = {email,password};\n        await fetch(\"login\", {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(data)\n          }).then(response=>response.json()).then(async d=> {\n            let role = d.user.roles;\n            console.log(d.jwt);\n    \n            if(role === \"insurance\") {\n                \n                // await fetch(\"\")\n                //     .then(res=>res.json())\n                //     .then(d=>{\n                //         console.log(d);\n                //     }).catch(e=>console.log(e));\n                // store data to session\n                sessionStorage.setItem('currentlyLoggedin', JSON.stringify(d.user));\n    \n                window.location = \"agent/pending\";\n                return;\n            }\n    \n            if(role === \"user\") {\n    \n                // await fetch()\n                // .then(res=>res.json())\n                // .then(async d=>{\n                //     if(d.userDashboard) {\n                //         await fetch(\"setLoggedIn/user\").then(res=>{\n                //             res.json();\n                //         }).then(d=> {\n                //             window.location = \"/requestChangeOfInsurance\";\n                //         }).catch(e=> console.log(e.message))\n                //     }\n                // }).catch(e=>console.log(e));\n                sessionStorage.setItem('currentlyLoggedin', JSON.stringify(d.user));\n    \n                window.location = \"user/sending\";\n            }\n            // fetch specific user\n          }).catch(e=>console.log(e.message));\n\n\n    }\n    return(\n        <div className=\"heroContainer\">\n            <div className=\"heroLeftContainer\">\n                <h1 className=\"heroLeftTitle\">The Easiest Way To Work With Your Insurance.</h1>\n                <label>Our Health, <span>Our Future</span></label>\n                <button>Read More</button>\n            </div>\n\n            <form onSubmit={handleLogin} className=\"heroRightContainer\">\n                <title>Login Your Account</title>\n                <input id=\"emailLogin\" className=\"form-control\" type=\"text\" placeholder=\"Email\" />\n                <input id=\"passwordLogin\" className=\"form-control\" type=\"password\" placeholder=\"Password\" />\n                {/* <input className=\"form-control\" type=\"date\" placeholder=\"Date of Birth\" /> */}\n                <label>Don't have an account? <Link to=\"/signup\"><span>Register Here</span></Link></label>\n                <button className=\"btn\" type=\"submit\">Login</button>\n            </form>\n        </div>\n    );\n}\n\nexport default HeroComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module"}