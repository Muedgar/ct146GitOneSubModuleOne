{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mutanganaedgar/Desktop/CT14/ctui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"/Users/mutanganaedgar/Desktop/CT14/ctui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/mutanganaedgar/Desktop/CT14/ctui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState,useEffect}from\"react\";import\"./Updates.css\";import\"../../commonCss/table.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getData2(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=[];_context.next=3;return fetch(\"user/makeRequest/getAllRequests\").then(function(d){return d.json();}).then(function(d){data=d;}).catch(function(e){return console.log(e.message);});case 3:return _context.abrupt(\"return\",data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}function Updates(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),requests=_useState2[0],setRequests=_useState2[1];var loggedInUser=JSON.parse(sessionStorage.getItem(\"currentlyLoggedin\"));useEffect(function(){getData2().then(setRequests);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"updatesContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"updatesTitle\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Reporting Screen: Updates Requests\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"table\",{id:\"performanceTable\",className:\"rwd-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Request Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Request Hour\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Individual Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Request Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:requests.map(function(request){if(request.userId===loggedInUser._id&&request.status===\"approved\"){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Request Date\",children:request.scheduledate}),/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Request Hour\",children:request.hourschedule}),/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Individual Name\",children:loggedInUser.name}),/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Request Status\",children:/*#__PURE__*/_jsx(\"button\",{id:\"deleteDvo02\",type:\"submit\",className:\"feedbackContainer btn btn-info\",disabled:true,children:\"Your request has been rejected, for more information reach out to customer support.\"})})]},request._id);}if(request.userId===loggedInUser._id&&request.status===\"rejected\"){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Request Date\",children:request.scheduledate}),/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Request Hour\",children:request.hourschedule}),/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Individual Name\",children:loggedInUser.name}),/*#__PURE__*/_jsx(\"td\",{\"data-th\":\"Request Status\",children:/*#__PURE__*/_jsx(\"button\",{id:\"deleteDvo02\",type:\"submit\",className:\"feedbackContainer btn btn-danger\",disabled:true,children:\"Your request has been rejected, for more information reach out to customer support.\"})})]},request._id);}return true;})})]})})]});}export default Updates;","map":{"version":3,"names":["React","useState","useEffect","getData2","data","fetch","then","d","json","catch","e","console","log","message","Updates","requests","setRequests","loggedInUser","JSON","parse","sessionStorage","getItem","map","request","userId","_id","status","scheduledate","hourschedule","name"],"sources":["/Users/mutanganaedgar/Desktop/CT14/ctui/src/components/userDashboard/updatesRequests/Updates.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\n\nimport \"./Updates.css\";\nimport \"../../commonCss/table.css\";\n\n\n\n\n  \n  async function getData2() {\n    let data = [];\n    await fetch(\"user/makeRequest/getAllRequests\")\n  .then(d=>d.json())\n  .then(d=> {\n    data = d;\n    \n  }).catch(e=>console.log(e.message));\n  return data;\n  }\n  \n\n\n\n\nfunction Updates() {\n  let [requests,setRequests] = useState([]);\n  let loggedInUser = JSON.parse(sessionStorage.getItem(\"currentlyLoggedin\"));\n  \n    \n    useEffect(() => {\n      \n      getData2().then(setRequests);\n    },[]);\n\n    return(\n        <div className=\"updatesContainer\">\n            <div className=\"updatesTitle\">\n                <h1>Reporting Screen: Updates Requests</h1>\n            </div>\n            <div className=\"row\">\n        <table id=\"performanceTable\" className=\"rwd-table\">\n          <thead>\n          <tr>\n            <th>Request Date</th>\n            <th>Request Hour</th>\n            <th>Individual Name</th>\n            <th>Request Status</th>\n          </tr>\n          </thead>\n          <tbody>\n          {\n            requests.map(request => {\n                  if((request.userId===loggedInUser._id)&&(request.status===\"approved\")) {\n                   return(\n                    <tr key={request._id}>\n              <td data-th=\"Request Date\">{request.scheduledate}</td>\n              <td data-th=\"Request Hour\">{request.hourschedule}</td>\n              <td data-th=\"Individual Name\">{loggedInUser.name}</td>\n              <td data-th=\"Request Status\">\n                        <button id=\"deleteDvo02\" type=\"submit\" className=\"feedbackContainer btn btn-info\"  disabled>Your request has been rejected, for more information reach out to customer support.</button>\n                    </td>\n                  </tr>\n                   )\n                  }\n                  if((request.userId===loggedInUser._id)&&(request.status===\"rejected\")) {\n            return(\n              <tr key={request._id}>\n              <td data-th=\"Request Date\">{request.scheduledate}</td>\n              <td data-th=\"Request Hour\">{request.hourschedule}</td>\n              <td data-th=\"Individual Name\">{loggedInUser.name}</td>\n              <td data-th=\"Request Status\">\n                        <button id=\"deleteDvo02\" type=\"submit\" className=\"feedbackContainer btn btn-danger\"  disabled>Your request has been rejected, for more information reach out to customer support.</button>\n                    </td>\n                  </tr>\n                   )\n                  }\n              \n              return true;\n            })\n          }\n         \n          </tbody>\n        </table>\n      </div>\n        </div>\n\n\n    );\n}\n\nexport default Updates;\n\n"],"mappings":"uYAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CAEA,MAAO,eAAP,CACA,MAAO,2BAAP,C,gGAMiBC,S,iIAAf,8IACMC,IADN,CACa,EADb,uBAEQC,MAAK,CAAC,iCAAD,CAAL,CACPC,IADO,CACF,SAAAC,CAAC,QAAEA,EAAC,CAACC,IAAF,EAAF,EADC,EAEPF,IAFO,CAEF,SAAAC,CAAC,CAAG,CACRH,IAAI,CAAGG,CAAP,CAED,CALO,EAKLE,KALK,CAKC,SAAAC,CAAC,QAAEC,QAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd,CAAF,EALF,CAFR,wCAQOT,IARP,wD,0CAeF,QAASU,QAAT,EAAmB,CACjB,cAA6Bb,QAAQ,CAAC,EAAD,CAArC,wCAAKc,QAAL,eAAcC,WAAd,eACA,GAAIC,aAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,mBAAvB,CAAX,CAAnB,CAGEnB,SAAS,CAAC,UAAM,CAEdC,QAAQ,GAAGG,IAAX,CAAgBU,WAAhB,EACD,CAHQ,CAGP,EAHO,CAAT,CAKA,mBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBACI,0DADJ,EADJ,cAII,YAAK,SAAS,CAAC,KAAf,uBACJ,eAAO,EAAE,CAAC,kBAAV,CAA6B,SAAS,CAAC,WAAvC,wBACE,oCACA,mCACE,oCADF,cAEE,oCAFF,cAGE,uCAHF,cAIE,sCAJF,GADA,EADF,cASE,uBAEED,QAAQ,CAACO,GAAT,CAAa,SAAAC,OAAO,CAAI,CAClB,GAAIA,OAAO,CAACC,MAAR,GAAiBP,YAAY,CAACQ,GAA/B,EAAsCF,OAAO,CAACG,MAAR,GAAiB,UAA1D,CAAuE,CACtE,mBACC,mCACN,WAAI,UAAQ,cAAZ,UAA4BH,OAAO,CAACI,YAApC,EADM,cAEN,WAAI,UAAQ,cAAZ,UAA4BJ,OAAO,CAACK,YAApC,EAFM,cAGN,WAAI,UAAQ,iBAAZ,UAA+BX,YAAY,CAACY,IAA5C,EAHM,cAIN,WAAI,UAAQ,gBAAZ,uBACU,eAAQ,EAAE,CAAC,aAAX,CAAyB,IAAI,CAAC,QAA9B,CAAuC,SAAS,CAAC,gCAAjD,CAAmF,QAAQ,KAA3F,iGADV,EAJM,GAASN,OAAO,CAACE,GAAjB,CADD,CAUA,CACD,GAAIF,OAAO,CAACC,MAAR,GAAiBP,YAAY,CAACQ,GAA/B,EAAsCF,OAAO,CAACG,MAAR,GAAiB,UAA1D,CAAuE,CAC7E,mBACE,mCACA,WAAI,UAAQ,cAAZ,UAA4BH,OAAO,CAACI,YAApC,EADA,cAEA,WAAI,UAAQ,cAAZ,UAA4BJ,OAAO,CAACK,YAApC,EAFA,cAGA,WAAI,UAAQ,iBAAZ,UAA+BX,YAAY,CAACY,IAA5C,EAHA,cAIA,WAAI,UAAQ,gBAAZ,uBACU,eAAQ,EAAE,CAAC,aAAX,CAAyB,IAAI,CAAC,QAA9B,CAAuC,SAAS,CAAC,kCAAjD,CAAqF,QAAQ,KAA7F,iGADV,EAJA,GAASN,OAAO,CAACE,GAAjB,CADF,CAUO,CAEL,MAAO,KAAP,CACD,CA3BD,CAFF,EATF,GADI,EAJJ,GADJ,CAsDH,CAED,cAAeX,QAAf"},"metadata":{},"sourceType":"module"}